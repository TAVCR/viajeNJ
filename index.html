<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Itinerario de Viaje NJ 2025</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #0f172a; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- ICONOS ---
        const Icons = {
            Cloud: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-6 h-6 text-gray-100"><path d="M17.5 19c0-1.7-1.3-3-3-3c-1.7 0-3 1.3-3 3"/><path d="M22 17a5 5 0 0 0-9-5 2.5 2.5 0 0 0-5 2H6.5a4.5 4.5 0 1 0 .2 8.9"/></svg>,
            Sun: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-6 h-6 text-yellow-200"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>,
            Snowflake: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-6 h-6 text-blue-100"><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/><path d="m20 16-4-4 4-4"/><path d="m4 8 4 4-4 4"/><path d="m16 4-4 4-4-4"/><path d="m8 20 4-4 4 4"/></svg>,
            Moon: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-6 h-6 text-indigo-200"><path d="M12 3a6 6 0 0 0 9 9 9 0 1 1-9-9Z"/></svg>,
            AlertTriangle: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" x2="12" y1="9" y2="13"/><line x1="12" x2="12.01" y1="17" y2="17"/></svg>,
            Info: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-4 h-4"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>,
            Map: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-5 h-5"><polygon points="3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21"/><line x1="9" x2="9" y1="3" y2="18"/><line x1="15" x2="15" y1="6" y2="21"/></svg>,
            ArrowRight: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-4 h-4"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>,
            Bus: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-4 h-4"><path d="M8 6v6"/><path d="M15 6v6"/><path d="M2 12h19.6"/><path d="M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3"/><circle cx="7" cy="18" r="2"/><path d="M9 18h5"/><circle cx="16" cy="18" r="2"/></svg>,
            Train: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-4 h-4"><rect width="16" height="16" x="4" y="3" rx="2"/><path d="M4 11h16"/><path d="M12 3v8"/><path d="m8 19-2 3"/><path d="m18 22-2-3"/><circle cx="8" cy="15" r="1"/><circle cx="16" cy="15" r="1"/></svg>,
            Car: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-6 h-6"><path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"/><circle cx="7" cy="17" r="2"/><path d="M9 17h6"/><circle cx="17" cy="17" r="2"/></svg>,
            DollarSign: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-6 h-6 text-white"><line x1="12" x2="12" y1="2" y2="22"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>,
            Smartphone: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-5 h-5"><rect width="14" height="20" x="5" y="2" rx="2" ry="2"/><path d="M12 18h.01"/></svg>,
            Home: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-4 h-4"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>,
            Plane: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-4 h-4"><path d="M2 12h20"/><path d="m13 2-4 10"/><path d="m13 22-4-10"/></svg>,
            Utensils: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-4 h-4"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg>,
            Gift: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-4 h-4"><rect x="3" y="8" width="18" height="4" rx="1"/><path d="M12 8v13"/><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"/><path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"/></svg>,
            Briefcase: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-4 h-4"><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>,
            MessageCircle: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-4 h-4"><path d="m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"/></svg>,
            X: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-6 h-6"><path d="M18 6 6 18"/><path d="m6 6 18 18"/></svg>
        };

        // --- TARJETAS DE AYUDA ---
        const FlashCard = ({ textEn, textEs, onClose }) => (
            <div className="fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-6 animate-fade-in" onClick={onClose}>
                <div className="bg-white text-black p-8 rounded-3xl w-full max-w-md text-center shadow-2xl transform scale-105" onClick={e => e.stopPropagation()}>
                    <h2 className="text-4xl font-black mb-4 text-indigo-800 leading-tight">{textEn}</h2>
                    <div className="h-1 w-20 bg-gray-200 mx-auto mb-4 rounded-full"></div>
                    <p className="text-xl text-gray-500 font-medium">{textEs}</p>
                    <button onClick={onClose} className="mt-8 bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-3 px-8 rounded-full transition-colors flex items-center gap-2 mx-auto">
                        <Icons.X className="w-5 h-5"/> Cerrar
                    </button>
                </div>
                <p className="text-white/50 mt-8 text-sm">Toca afuera para cerrar</p>
            </div>
        );

        const App = () => {
            const [language, setLanguage] = useState('es');
            const [viewMode, setViewMode] = useState('itinerary');
            const [activeDay, setActiveDay] = useState(1);
            const [contingencySunday, setContingencySunday] = useState(false);
            const [activeFlashCard, setActiveFlashCard] = useState(null);

            const toggleLanguage = () => setLanguage(prev => prev === 'es' ? 'en' : 'es');
            const uberLink = `https://m.uber.com/ul/?action=setPickup&pickup=my_location&dropoff[latitude]=40.677315&dropoff[longitude]=-74.218414&dropoff[nickname]=Casa%20Elizabeth&dropoff[formatted_address]=635%20Union%20Avenue%2C%20Elizabeth%2C%20NJ%2007208`;

            // Google Maps Embed URLs
            const maps = {
                mall: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3024.183428373673!2d-74.17578268459496!3d40.66530697933682!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c24d623253a533%3A0xc47e30327f272a0c!2sThe%20Mills%20at%20Jersey%20Gardens!5e0!3m2!1sen!2sus!4v1629817345678!5m2!1sen!2sus",
                newark: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3022.0296707379737!2d-74.16422968459364!3d40.73467997932917!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c2537640203f75%3A0x67390234720937c4!2sNewark%20Penn%20Station!5e0!3m2!1sen!2sus!4v1629817345678!5m2!1sen!2sus",
                airport: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12097.436102275637!2d-74.17706398459302!3d40.68949057933454!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c2537d95e2b023%3A0xb89d1fe6bc499443!2sNewark%20Liberty%20International%20Airport%20(EWR)!5e0!3m2!1sen!2sus!4v1629817345678!5m2!1sen!2sus"
            };

            const content = {
                es: {
                    title: "Gu√≠a de Viaje NJ 2025",
                    subtitle: "Estrategia de Compras & Log√≠stica",
                    dates: "05 - 08 Diciembre 2025",
                    accommodation: "Base: 635 Union Avenue, Elizabeth, NJ 07208",
                    tabs: { itinerary: "Itinerario", dining: "Cenas Cercanas", shopping: "Tiendas", help: "Ayuda (Ingl√©s)" },
                    
                    diningTitle: "Cenas Recomendadas (Cerca del Hospedaje)",
                    diningSubtitle: "Lugares econ√≥micos y buenos para cenar sin ir lejos.",
                    restaurants: [
                        { name: "Tropicana Diner & Bakery", type: "Diner Americano / Latino", price: "$$", dist: "5 min caminando", desc: "Un cl√°sico de NJ. Men√∫ gigante: hamburguesas, desayunos, platos latinos y postres incre√≠bles. Abierto tarde.", loc: "545 Morris Ave" },
                        { name: "Parador Rojo", type: "Comida Colombiana", price: "$$", dist: "10 min caminando", desc: "Comida casera abundante. Bandeja paisa, carnes, arepas. Muy buena calidad/precio.", loc: "344 Morris Ave" },
                        { name: "Pizza Hut / Pizzer√≠a Local", type: "Comida R√°pida", price: "$", dist: "3 min caminando", desc: "Opci√≥n segura y r√°pida si est√°s muy cansada.", loc: "655 Newark Ave" }
                    ],

                    shoppingTitle: "Tiendas y Maletas",
                    shoppingSubtitle: "D√≥nde comprar maletas y curiosidades.",
                    shops: [
                        { 
                            name: "ABC Superstore (Newark)", 
                            category: "Maletas Baratas (Prioridad)", 
                            route: "En Newark. Caminando desde la estaci√≥n.", 
                            desc: "Parada OBLIGATORIA del Domingo. Precios de maletas insuperables. Ir al salir de la estaci√≥n antes de los paquetes.",
                            logistics: [
                                { label: "Ubicaci√≥n", val: "161 Ferry St" },
                                { label: "Precio", val: "$ Bajo" },
                                { label: "Uber", val: "UberXL Obligatorio" }
                            ]
                        },
                        { 
                            name: "Dollar Tree (EL REAL)", 
                            category: "¬°Todo a $1.25!", 
                            route: "Bus #52 (Letrero: 'Springfield' o 'Union') en Morris Ave. NO al centro. Bajar en West Branch Commons.", 
                            desc: "El verdadero Dollar Tree. 1701 Morris Ave, Union. A 10 min en bus.",
                            logistics: [
                                { label: "Transporte", val: "Bus #52" },
                                { label: "Costo Bus", val: "$1.60" },
                                { label: "Uber", val: "$12" }
                            ]
                        },
                        { 
                            name: "The Market (Elizabeth Ave)", 
                            category: "Ropa / Jeans / Joyer√≠a", 
                            route: "Bus #52/#26 (Letrero: 'Elizabeth Broad St'). Bajar en Broad St, caminar 1 cuadra.", 
                            desc: "La calle principal de comercio latino. Busca tiendas como V.I.M (Jeans/Tenis), Snipes, Rainbow y joyer√≠as locales.",
                            logistics: [
                                { label: "Transporte", val: "Bus #52 / #26" },
                                { label: "Tiempo", val: "15-20 min" },
                                { label: "Uber", val: "$10-$12 (Rec. return)" }
                            ]
                        },
                        { 
                            name: "Shoppers World", 
                            category: "Ropa / Maletas (Plan B)", 
                            route: "Elizabeth Downtown (Broad St).", 
                            desc: "Si ABC no funciona, aqu√≠ hay maletas baratas tambi√©n. Tienda de descuentos general.",
                            logistics: [
                                { label: "Ubicaci√≥n", val: "100 Broad St" },
                                { label: "Bus Fare", val: "$1.60" },
                                { label: "Uber", val: "$10" }
                            ]
                        }
                    ],

                    helpTitle: "Tarjetas de Ayuda (Ingl√©s)",
                    helpSubtitle: "Toca una frase para mostrarla en grande si necesitas ayuda.",
                    flashcards: [
                        { label: "Tengo un problema", en: "Excuse me, I need help.", es: "Disculpe, necesito ayuda." },
                        { label: "No hablo ingl√©s", en: "I don't speak English. Spanish only.", es: "No hablo ingl√©s." },
                        { label: "Quiero un Taxi", en: "Can you call a taxi for me?", es: "¬øMe puede pedir un taxi?" },
                        { label: "Estoy perdida", en: "I am lost. I need to go to Union Avenue.", es: "Estoy perdida. Voy a Union Ave." },
                        { label: "Necesito Uber XL", en: "I need a large Taxi/Uber for 3 suitcases.", es: "Necesito taxi grande para 3 maletas." },
                        { label: "Agregar Parada", en: "I need to add a stop at Napoleon St to pick up bags.", es: "Necesito parar en Napoleon St por paquetes." },
                        { label: "Restroom", en: "Where is the restroom?", es: "¬øD√≥nde est√° el ba√±o?" },
                        { label: "How much?", en: "How much is this?", es: "¬øCu√°nto cuesta esto?" },
                        { label: "Parada de Bus", en: "Where is the bus stop to Elizabeth?", es: "¬øD√≥nde est√° la parada a Elizabeth?" }
                    ],

                    climateTitle: "Alerta Clim√°tica",
                    climate: [
                        { day: "Viernes", icon: <Icons.Cloud/>, text: "Nieve/Aguanieve", desc: "Suelo mojado. Botas impermeables." },
                        { day: "S√°bado", icon: <Icons.Snowflake/>, text: "Muy Fr√≠o (-2¬∞C)", desc: "V√≠stete en capas para el Mall." },
                        { day: "Domingo", icon: <Icons.Sun/>, text: "Viento Helado", desc: "Guantes obligatorios." },
                        { day: "Lunes", icon: <Icons.Moon/>, text: "Congelante (-7¬∞C)", desc: "Abrigo hasta el √∫ltimo momento." }
                    ],
                    alertsTitle: "‚ö†Ô∏è Alertas de Servicio Activas (Dic 2025)",
                    alerts: [
                        "AMAZON EN CAMINO: Domingo tarde/noche. Debes estar en casa.",
                        "EWR Station (Domingo): Obras = Retrasos en Trenes. Usa el Bus si hay demora.",
                        "Estaci√≥n Elizabeth: Ascensor malo. Usa escaleras.",
                        "Obras Viales: Pedir Uber con 15 min de antelaci√≥n."
                    ],
                    appSection: {
                        title: "App NJ TRANSIT (Vital)",
                        desc: "Desc√°rgala para ver retrasos en tiempo real.",
                        steps: ["1. Busca 'NJ TRANSIT' en App Store.", "2. Usa 'DepartureVision'.", "3. O entra a njtransit.com"]
                    },
                    uberSection: {
                        title: "Bot√≥n de P√°nico: Volver a Casa",
                        desc: "Pide un Uber directo al hospedaje desde donde est√©s.",
                        buttonText: "Pedir Uber a Casa (635 Union Ave)"
                    },
                    helpCard: {
                        label: "Muestre esta pantalla si necesita ayuda / Show this screen for help",
                        title: "NECESITO IR A / I NEED TO GO TO:",
                        address: "635 Union Avenue",
                        city: "Elizabeth, NJ 07208",
                        note: "Near: Morris Ave & Union Ave"
                    },
                    days: [
                        { id: 1, label: "Vie 05", title: "D√≠a 1: Llegada & Mall", goal: "Aterrizaje y directo a compras", steps: [
                            { time: "05:30 AM", action: "Aterrizaje (EWR)", detail: "Terminal C. Desayuna tranquila ah√≠." },
                            { time: "09:30 AM", action: "Bus al Mall", detail: "Exit Terminal, find Bus Stop. Take NJ Transit #62 (Sign: 'Elizabeth' or 'Perth Amboy') OR Bus #40 (Sign: 'Jersey Gardens'). FIRST ONE WORKS. Get off at 'Jersey Gardens Mall'. (Cost: ~$2.55)" },
                            { time: "10:00 AM", action: "Shopping Mode", detail: "Alquila Smart Carte para maletas." },
                            { time: "19:00 PM", action: "Check-in Casa", detail: "Uber Standard ($15-$18). Solo llevas bolsas de compras." }
                        ], mapLink: "https://www.google.com/maps/dir/Newark+Liberty+International+Airport/The+Mills+at+Jersey+Gardens", mapUrl: maps.mall },
                        { id: 2, label: "S√°b 06", title: "D√≠a 2: Full Compras", goal: "Ida barata, vuelta c√≥moda", steps: [
                            { time: "09:00 AM", action: "Bus al Mall", detail: "Camina 8 min hasta Av. Morris. Toma el Bus #52 o #26 (Letrero: 'Elizabeth Broad St' o 'Center'). B√°jate en 'Broad St' (~12 paradas). Ah√≠ transborda al PRIMERO que pase: Bus #111, #24 o #62. Todos van al Mall. (Costo: ~$3.00)" },
                            { time: "Todo el d√≠a", action: "Marat√≥n", detail: "Sin l√≠mite de tiempo." },
                            { time: "19:00 PM", action: "Regreso VIP", detail: "Uber a casa con todas las bolsas ($15-$20)." }
                        ], mapLink: "https://www.google.com/maps/dir/635+Union+Avenue,+Elizabeth,+NJ/The+Mills+at+Jersey+Gardens", mapUrl: maps.mall },
                        { 
                          id: 3, 
                          label: "Dom 07", 
                          title: "D√≠a 3: Log√≠stica + AMAZON", 
                          goal: "Ma√±ana Super / Tarde Newark & Casa", 
                          alert: "¬°ALERTA AMAZON! Qu√©date en casa noche.", 
                          contingencyToggle: false, // Removed as logic changed
                          planB: { 
                              title: "Plan B: Buses Locales (¬°Mejor que el #62!)", 
                              description: "Si decides no usar el tren, usa estos buses desde Broad St (Centro). Al bajar del #52:", 
                              steps: [
                                  "Ubicaci√≥n: Camina a Broad St & Jersey St (busca se√±al 'NJ Transit').",
                                  "Opci√≥n 1: Bus #24 (Letrero: 'Newark' o 'Orange').",
                                  "Opci√≥n 2: Bus #59 (Letrero: 'Newark').",
                                  "Clave: ¬°Sube al PRIMERO que pase! Son directos (~25 min).",
                                  "El #62 t√≥malo solo si no pasa ninguno de los otros (da muchas vueltas)."
                              ] 
                          },
                          steps: [
                            { time: "10:00 AM", action: "Walmart (Ma√±ana)", detail: "Uber a 1050 W Edgar Rd (Super Center). Compra comida/encargos temprano para no cargar despu√©s. (~$13-$15)" },
                            { time: "12:00 PM", action: "Regreso a Casa", detail: "Uber de vuelta. Deja las compras y prep√°rate para Newark." },
                            { time: "15:45 PM", action: "Ruta a Newark (Tarde)", detail: "Bus #52/#26 (Sign: 'Elizabeth Broad St') hasta el Centro. Cruza a la estaci√≥n y toma TREN NJ Transit (Sign: 'Newark Penn'). (Costo ~$5.00)" },
                            { time: "17:00 PM", action: "Comprar Maletas", detail: "Llegas a ABC Superstore (161 Ferry St). Compra las 3 maletas r√°pido (Cierran 6:15PM)." },
                            { time: "17:45 PM", action: "Corto a Napoleon", detail: "Camina o Uber Corto a 66 Napoleon St. Entra a la casa con las maletas vac√≠as." },
                            { time: "18:00 PM", action: "ESPERA AMAZON", detail: "Qu√©date dentro de la casa en Napoleon St. No pases fr√≠o. Espera el paquete." },
                            { time: "19:30 PM", action: "Regreso Final", detail: "¬°YA CON TODO! Pide Uber XL desde Napoleon St directo a Elizabeth. Empaca en la habitaci√≥n." }
                        ], mapLink: "https://www.google.com/maps/dir/Newark+Penn+Station/ABC+Super+Stores/66+Napoleon+St,+Newark,+NJ/635+Union+Avenue,+Elizabeth,+NJ", mapUrl: maps.newark },
                        { id: 4, label: "Mon 08", title: "D√≠a 4: Salida", goal: "Madrugada - Terminal B", steps: [
                            { time: "02:15 AM", action: "Despertar", detail: "Abrigo a mano. Hace mucho fr√≠o." },
                            { time: "02:30 AM", action: "Uber Airport", detail: "Destino: Terminal B (Spirit). Cost ~$28. Pedir con tiempo por obras viales." }
                        ], mapLink: "https://www.google.com/maps/dir/635+Union+Avenue,+Elizabeth,+NJ/Newark+Liberty+International+Airport", mapUrl: maps.airport }
                    ],
                    budget: { title: "Presupuesto Movilidad", total: "$185 USD", items: [{label: "Uber/Lyft", amount: "$170"}, {label: "Bus/Tren", amount: "$15"}] }
                },
                en: {
                    title: "Travel Guide NJ 2025",
                    subtitle: "Shopping & Logistics",
                    dates: "Dec 05 - Dec 08, 2025",
                    accommodation: "Stay: 635 Union Avenue, Elizabeth, NJ 07208",
                    tabs: { itinerary: "Itinerary", dining: "Nearby Dining", shopping: "Local Shops", help: "Help/Speak" },

                    diningTitle: "Recommended Dinner Spots",
                    diningSubtitle: "Affordable & good quality places nearby.",
                    restaurants: [
                        { name: "Tropicana Diner & Bakery", type: "American / Latin Diner", price: "$$", dist: "5 min walk", desc: "NJ Classic. Huge menu: burgers, breakfast, latin dishes, desserts. Open late.", loc: "545 Morris Ave" },
                        { name: "Parador Rojo", type: "Colombian Food", price: "$$", dist: "10 min walk", desc: "Hearty latin food. Steaks, arepas, rice & beans. Great value.", loc: "344 Morris Ave" },
                        { name: "Pizza Hut / Local Pizza", type: "Fast Food", price: "$", dist: "3 min walk", desc: "Quick and safe option.", loc: "655 Newark Ave" }
                    ],

                    shoppingTitle: "Local Shops & Luggage",
                    shoppingSubtitle: "Where to buy suitcases and cheap goods.",
                    shops: [
                        { 
                            name: "ABC Superstore (Newark)", 
                            category: "Cheap Luggage (PRIORITY)", 
                            route: "In Newark. Walk from Train Station.", 
                            desc: "MANDATORY STOP on Sunday. Best prices. Buy 3 suitcases here, then call UberXL to pickup packages.",
                            logistics: [
                                { label: "Location", val: "161 Ferry St" },
                                { label: "Price", val: "$ Low" },
                                { label: "Uber", val: "UberXL Required" }
                            ]
                        },
                        { 
                            name: "Dollar Tree (THE REAL ONE)", 
                            category: "Everything $1.25!", 
                            route: "Bus #52 (Sign: 'Springfield' or 'Union') on Morris Ave. NOT downtown. Stop: West Branch Commons.", 
                            desc: "The actual Dollar Tree. 1701 Morris Ave, Union. 10 min bus ride.",
                            logistics: [
                                { label: "Transport", val: "Bus #52" },
                                { label: "Bus Fare", val: "$1.60" },
                                { label: "Uber", val: "$12" }
                            ]
                        },
                        { 
                            name: "The Market (Elizabeth Ave)", 
                            category: "Clothes / Jeans / Jewelry / Tech", 
                            route: "Take Bus #52/#26 (Sign: 'Elizabeth Broad St'). Get off at Broad St, walk 1 block.", 
                            desc: "Main latino shopping street. Look for V.I.M, Snipes, Rainbow and local jewelers.",
                            logistics: [
                                { label: "Transport", val: "Bus #52 / #26" },
                                { label: "Time", val: "15-20 min" },
                                { label: "Uber", val: "$10-$12 (Rec. return)" }
                            ]
                        },
                        { 
                            name: "Shoppers World", 
                            category: "Cheap Clothes / Luggage (Plan B)", 
                            route: "Elizabeth Downtown (Broad St).", 
                            desc: "Discount dept store. Option B if ABC fails.",
                            logistics: [
                                { label: "Location", val: "100 Broad St" },
                                { label: "Bus Fare", val: "$1.60" },
                                { label: "Uber", val: "$10" }
                            ]
                        }
                    ],

                    helpTitle: "Help Flashcards",
                    helpSubtitle: "Tap a phrase to show it big on screen.",
                    flashcards: [
                        { label: "I have a problem", en: "Excuse me, I need help.", es: "Disculpe, necesito ayuda." },
                        { label: "No English", en: "I don't speak English. Spanish only.", es: "No hablo ingl√©s." },
                        { label: "Call Taxi", en: "Can you call a taxi for me?", es: "¬øMe puede pedir un taxi?" },
                        { label: "I am Lost", en: "I am lost. I need to go to Union Avenue.", es: "Estoy perdida. Voy a Union Ave." },
                        { label: "Need Uber XL", en: "I need a large Taxi/Uber for 3 suitcases.", es: "Necesito taxi grande para 3 maletas." },
                        { label: "Add a Stop", en: "I need to add a stop at Napoleon St to pick up bags.", es: "Necesito parar en Napoleon St por paquetes." },
                        { label: "Restroom", en: "Where is the restroom?", es: "¬øD√≥nde est√° el ba√±o?" },
                        { label: "How much?", en: "How much is this?", es: "¬øCu√°nto cuesta esto?" },
                        { label: "Bus Stop", en: "Where is the bus stop to Elizabeth?", es: "¬øD√≥nde est√° la parada a Elizabeth?" }
                    ],

                    climateTitle: "Weather Alert",
                    climate: [
                        { day: "Friday", icon: <Icons.Cloud/>, text: "Snow/Sleet", desc: "Wet ground. Waterproof boots." },
                        { day: "Saturday", icon: <Icons.Snowflake/>, text: "Very Cold (-2¬∞C)", desc: "Layer up for the Mall." },
                        { day: "Sunday", icon: <Icons.Sun/>, text: "Freezing Wind", desc: "Gloves mandatory." },
                        { day: "Monday", icon: <Icons.Moon/>, text: "Freezing (-7¬∞C)", desc: "Coat on until inside." }
                    ],
                    alertsTitle: "‚ö†Ô∏è Active Service Alerts (Dec 2025)",
                    alerts: [
                        "AMAZON ON THE WAY: Sunday late afternoon. Must be home.",
                        "EWR Station (Sunday): 'Station Improvements' may cause 15 min delays.",
                        "Elizabeth Station: Eastbound Elevator Out of Service. Must use stairs.",
                        "Roadwork Union Co.: Potential delays. Order Uber 15 mins early."
                    ],
                    appSection: {
                        title: "NJ TRANSIT App (Vital)",
                        desc: "Check real-time delays.",
                        steps: ["1. Search 'NJ TRANSIT' on App Store.", "2. Use 'DepartureVision'.", "3. O entra a njtransit.com"]
                    },
                    uberSection: {
                        title: "Panic Button: Ride Home",
                        desc: "Request Uber straight home from anywhere.",
                        buttonText: "Request Uber Home (635 Union Ave)"
                    },
                    helpCard: {
                        label: "Show this screen for help",
                        title: "I NEED TO GO TO:",
                        address: "635 Union Avenue",
                        city: "Elizabeth, NJ 07208",
                        note: "Near: Morris Ave & Union Ave"
                    },
                    days: [
                        { id: 1, label: "Fri 05", title: "Day 1: Arrival & Mall", goal: "Land and shop immediately", steps: [
                            { time: "05:30 AM", action: "Land at EWR", detail: "Terminal C. Breakfast there." },
                            { time: "09:30 AM", action: "Bus to Mall", detail: "Exit Terminal, find Bus Stop. Take NJ Transit #62 (Sign: 'Elizabeth' or 'Perth Amboy') OR Bus #40 (Sign: 'Jersey Gardens'). FIRST ONE WORKS. Get off at 'Jersey Gardens Mall'. (Cost: ~$2.55)" },
                            { time: "10:00 AM", action: "Shopping Mode", detail: "Rent a Smart Carte for luggage." },
                            { time: "19:00 PM", action: "Check-in", detail: "Uber Standard ($15-$18). Only shopping bags & carry-on." }
                        ], mapLink: "https://www.google.com/maps/dir/Newark+Liberty+International+Airport/The+Mills+at+Jersey+Gardens", mapUrl: maps.mall },
                        { id: 2, label: "Sat 06", title: "Day 2: Full Shopping", goal: "Cheap there, comfy back", steps: [
                            { time: "09:00 AM", action: "Bus Route", detail: "Walk 8 min to Morris Ave. Take Bus #52/#26 (Sign: 'Elizabeth Broad St' or 'Center'). Get off at 'Broad St' (~12 stops). Transfer to ANY: Bus #111, #24 or #62. Take the FIRST one! All go to Mall. (Cost: ~$3.00)" },
                            { time: "All Day", action: "Shopping Marathon", detail: "No time limit." },
                            { time: "19:00 PM", action: "VIP Return", detail: "Uber home with all bags ($15-$20)." }
                        ], mapLink: "https://www.google.com/maps/dir/635+Union+Avenue,+Elizabeth,+NJ/The+Mills+at+Jersey+Gardens", mapUrl: maps.mall },
                        { 
                          id: 3, 
                          label: "Sun 07", 
                          title: "Day 3: Logistics + AMAZON", 
                          goal: "Active Morning / Stay Home PM", 
                          alert: "AMAZON ALERT! Stay home in the afternoon.", 
                          contingencyToggle: false, // Removed
                          planB: { 
                              title: "Plan B: Local Buses (Better than #62!)", 
                              description: "If you decide not to take the train, use these from Broad St (Downtown). After getting off #52:", 
                              steps: [
                                  "Location: Walk to Broad St & Jersey St stop.",
                                  "Option 1: Bus #24 (Sign: 'Newark' or 'Orange').",
                                  "Option 2: Bus #59 (Sign: 'Newark').",
                                  "Key: Take the FIRST one! Direct (~25 min).",
                                  "Only take #62 if no others come (it loops)."
                              ] 
                          },
                          steps: [
                            { time: "10:00 AM", action: "Walmart (Morning)", detail: "Uber to 1050 W Edgar Rd (Super Center). Buy food/requests early. (~$13-$15)" },
                            { time: "12:00 PM", action: "Return Home", detail: "Uber back. Drop groceries. Get ready for Newark." },
                            { time: "15:45 PM", action: "Route to Newark (PM)", detail: "Bus #52/#26 (Sign: 'Elizabeth Broad St') to Downtown. Cross to Train Station. Take NJ Transit Train (Sign: 'Newark Penn'). (Cost ~$5.00)" },
                            { time: "17:00 PM", action: "Buy Suitcases", detail: "Arrive at ABC Superstore (161 Ferry St). Buy 3 suitcases fast (Closes 6:15PM)." },
                            { time: "17:45 PM", action: "Short Trip", detail: "Walk or Short Uber to 66 Napoleon St. Enter house with empty bags." },
                            { time: "18:00 PM", action: "WAIT FOR AMAZON", detail: "Stay inside Napoleon St house. Do not freeze. Wait for package." },
                            { time: "19:30 PM", action: "FINAL RETURN", detail: "GOT EVERYTHING! Order Uber XL from Napoleon St straight to Elizabeth. Pack in room." }
                        ], mapLink: "https://www.google.com/maps/dir/Newark+Penn+Station/ABC+Super+Stores/66+Napoleon+St,+Newark,+NJ/635+Union+Avenue,+Elizabeth,+NJ", mapUrl: maps.newark },
                        { id: 4, label: "Mon 08", title: "Day 4: Departure", goal: "Early Morning - Terminal B", steps: [
                            { time: "02:15 AM", action: "Wake Up", detail: "Coat handy. Very cold." },
                            { time: "02:30 AM", action: "Uber Airport", detail: "Dest: Terminal B (Spirit). Cost ~$28. Order early due to roadwork." }
                        ], mapLink: "https://www.google.com/maps/dir/635+Union+Avenue,+Elizabeth,+NJ/Newark+Liberty+International+Airport", mapUrl: maps.airport }
                    ],
                    budget: { title: "Mobility Budget", total: "$185 USD", items: [{label: "Uber/Lyft", amount: "$170"}, {label: "Bus/Train", amount: "$15"}] }
                }
            };

            const t = content[language];
            const activeDayData = t.days.find(d => d.id === activeDay);

            return (
                <div className="min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-slate-900 font-sans text-gray-100 p-4 md:p-8">
                    {activeFlashCard && (
                        <FlashCard 
                            textEn={activeFlashCard.en} 
                            textEs={activeFlashCard.es} 
                            onClose={() => setActiveFlashCard(null)} 
                        />
                    )}

                    {/* Header */}
                    <div className="flex flex-col md:flex-row justify-between items-center mb-8 gap-4">
                        <div className="text-center md:text-left">
                            <h1 className="text-3xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-pink-400 drop-shadow-sm">{t.title}</h1>
                            <p className="text-indigo-200 font-medium tracking-wide mt-1">{t.subtitle}</p>
                        </div>
                        <div className="flex gap-3">
                            <div className="bg-white/10 backdrop-blur-md px-4 py-2 rounded-xl border border-white/20 text-sm text-center">
                                <span className="block font-bold text-yellow-300">üìÖ {t.dates}</span>
                                <span className="block text-gray-300 text-xs mt-1">üè† {t.accommodation}</span>
                            </div>
                            <button onClick={toggleLanguage} className="h-12 w-12 flex items-center justify-center bg-indigo-600 rounded-full shadow-lg hover:bg-indigo-500 transition-all font-bold border-2 border-indigo-400">{language === 'es' ? 'EN' : 'ES'}</button>
                        </div>
                    </div>

                    {/* VIEW MODE TABS */}
                    <div className="flex justify-center mb-6 flex-wrap gap-2">
                        <div className="flex bg-white/10 p-1 rounded-full border border-white/20 backdrop-blur-md overflow-x-auto max-w-full">
                            <button onClick={() => setViewMode('itinerary')} className={`px-3 md:px-6 py-2 rounded-full text-sm font-bold transition-all flex items-center gap-2 whitespace-nowrap ${viewMode === 'itinerary' ? 'bg-white text-indigo-900 shadow-md' : 'text-indigo-200 hover:text-white'}`}><Icons.Plane className="w-4 h-4"/> <span className="hidden md:inline">{t.tabs.itinerary}</span><span className="md:hidden">Itin.</span></button>
                            <button onClick={() => setViewMode('dining')} className={`px-3 md:px-6 py-2 rounded-full text-sm font-bold transition-all flex items-center gap-2 whitespace-nowrap ${viewMode === 'dining' ? 'bg-white text-indigo-900 shadow-md' : 'text-indigo-200 hover:text-white'}`}><Icons.Utensils className="w-4 h-4"/> <span className="hidden md:inline">{t.tabs.dining}</span><span className="md:hidden">Cena</span></button>
                            <button onClick={() => setViewMode('shopping')} className={`px-3 md:px-6 py-2 rounded-full text-sm font-bold transition-all flex items-center gap-2 whitespace-nowrap ${viewMode === 'shopping' ? 'bg-white text-indigo-900 shadow-md' : 'text-indigo-200 hover:text-white'}`}><Icons.Gift className="w-4 h-4"/> <span className="hidden md:inline">{t.tabs.shopping}</span><span className="md:hidden">Tiendas</span></button>
                            <button onClick={() => setViewMode('help')} className={`px-3 md:px-6 py-2 rounded-full text-sm font-bold transition-all flex items-center gap-2 whitespace-nowrap ${viewMode === 'help' ? 'bg-white text-indigo-900 shadow-md' : 'text-indigo-200 hover:text-white'}`}><Icons.MessageCircle className="w-4 h-4"/> <span className="hidden md:inline">{t.tabs.help}</span><span className="md:hidden">Ayuda</span></button>
                        </div>
                    </div>

                    {/* ALERTS */}
                    <div className="bg-red-500/10 border border-red-500/40 rounded-xl p-4 mb-6 backdrop-blur-md animate-pulse-slow">
                        <h3 className="text-red-300 font-bold flex items-center gap-2 mb-2 text-sm uppercase"><Icons.Info /> {t.alertsTitle}</h3>
                        <ul className="text-red-100 text-xs md:text-sm space-y-1 list-disc pl-5">{t.alerts.map((alert, idx) => <li key={idx}>{alert}</li>)}</ul>
                    </div>

                    {/* Climate */}
                    <div className="grid grid-cols-2 md:grid-cols-4 gap-3 mb-8">
                        {t.climate.map((item, idx) => (
                            <div key={idx} className="bg-white/5 backdrop-blur-sm border border-white/10 p-3 rounded-lg flex flex-col items-center text-center hover:bg-white/10 transition-colors">
                                <div className="mb-1">{item.icon}</div>
                                <span className="text-xs font-bold text-gray-300 uppercase tracking-wider mb-1">{item.day}</span>
                                <span className="text-sm font-bold text-white leading-tight mb-1">{item.text}</span>
                                <span className="text-[10px] text-gray-400 leading-tight">{item.desc}</span>
                            </div>
                        ))}
                    </div>

                    {/* MAIN CONTENT AREA */}
                    {viewMode === 'itinerary' ? (
                        <>
                            {/* Day Tabs */}
                            <div className="flex justify-start md:justify-center mb-6 overflow-x-auto py-2 px-4 md:px-0 scrollbar-hide">
                                <div className="flex bg-gray-900/50 p-1 rounded-2xl border border-white/10 backdrop-blur-xl min-w-max">
                                    {t.days.map((day) => (
                                        <button key={day.id} onClick={() => setActiveDay(day.id)} className={`px-6 py-3 rounded-xl text-sm font-bold transition-all duration-300 whitespace-nowrap ${activeDay === day.id ? 'bg-gradient-to-r from-pink-500 to-violet-600 text-white shadow-lg scale-105' : 'text-gray-400 hover:text-white hover:bg-white/5'}`}>{day.label}</button>
                                    ))}
                                </div>
                            </div>

                            {/* Active Day Content */}
                            <div className="max-w-4xl mx-auto animate-fade-in">
                                <div className="bg-white/95 backdrop-blur-xl rounded-3xl overflow-hidden shadow-2xl text-gray-800 border border-white/50">
                                    <div className="bg-gradient-to-r from-indigo-600 to-purple-700 p-6 text-white relative overflow-hidden">
                                        <h2 className="text-3xl font-black mb-1 relative z-10">{activeDayData.title}</h2>
                                        <p className="text-indigo-100 font-medium relative z-10 flex items-center gap-2"><span className="bg-white/20 px-2 py-0.5 rounded text-sm uppercase tracking-wider">Objetivo</span> {activeDayData.goal}</p>
                                    </div>

                                    <div className="p-6 md:p-8 grid md:grid-cols-2 gap-8">
                                        <div className="space-y-6">
                                            {activeDayData.alert && (
                                                <div className="bg-amber-50 border-l-4 border-amber-500 p-4 rounded-r-lg shadow-sm flex gap-3 items-start animate-pulse-slow">
                                                    <Icons.AlertTriangle />
                                                    <p className="text-sm text-amber-800 font-medium">{activeDayData.alert}</p>
                                                </div>
                                            )}
                                            {activeDayData.planB && (
                                                <div className="bg-indigo-50 border border-indigo-100 rounded-xl p-4 shadow-inner">
                                                    <h4 className="text-indigo-800 font-bold flex items-center gap-2 mb-2 text-sm"><Icons.Bus /> {activeDayData.planB.title}</h4>
                                                    <p className="text-xs text-indigo-600 mb-2">{activeDayData.planB.description}</p>
                                                    <ul className="text-xs text-gray-600 space-y-1 list-disc pl-4">{activeDayData.planB.steps.map((s, i) => <li key={i}>{s}</li>)}</ul>
                                                </div>
                                            )}
                                            
                                            {/* CONTINGENCY SWITCH */}
                                            {activeDayData.contingencyToggle && (
                                                <div className="flex items-center justify-between bg-gray-100 p-3 rounded-lg border border-gray-200">
                                                    <span className="text-sm font-bold text-gray-700">Ver opci√≥n regreso v√≠a Mall</span>
                                                    <button onClick={() => setContingencySunday(!contingencySunday)} className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${contingencySunday ? 'bg-indigo-600' : 'bg-gray-300'}`}>
                                                        <span className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${contingencySunday ? 'translate-x-6' : 'translate-x-1'}`} />
                                                    </button>
                                                </div>
                                            )}

                                            {activeDayData.steps.map((step, idx) => (
                                                <div key={idx} className="relative pl-6 border-l-2 border-indigo-100 group">
                                                    <div className="absolute -left-[9px] top-0 h-4 w-4 rounded-full bg-white border-4 border-indigo-500 group-hover:scale-125 transition-transform"></div>
                                                    <div className="flex flex-col sm:flex-row sm:items-baseline gap-1 sm:gap-3 mb-1">
                                                        <span className="font-mono font-bold text-indigo-600 text-lg">{step.time}</span>
                                                        <h3 className="font-bold text-gray-900 text-lg">{step.action}</h3>
                                                    </div>
                                                    <p className="text-gray-600 leading-relaxed text-sm">{step.detail}</p>
                                                </div>
                                            ))}
                                        </div>
                                        <div className="flex flex-col gap-6">
                                            <div className="bg-gray-100 rounded-2xl overflow-hidden shadow-inner border border-gray-200 flex flex-col h-full min-h-[300px]">
                                                <div className="bg-gray-200 px-4 py-2 border-b border-gray-300 flex justify-between items-center relative z-10">
                                                    <span className="text-xs font-bold text-gray-500 uppercase flex items-center gap-1"><Icons.Map /> Ruta del D√≠a</span>
                                                    <a href={activeDayData.mapLink} target="_blank" rel="noreferrer" className="text-xs font-bold text-blue-600 hover:underline flex items-center gap-1 relative z-20">Abrir GPS <Icons.ArrowRight /></a>
                                                </div>
                                                <div className="flex-grow relative bg-gray-300 group">
                                                    <iframe src={activeDayData.mapUrl} width="100%" height="100%" style={{border:0, minHeight: '300px'}} allowFullScreen="" loading="lazy" title={`Mapa del ${activeDayData.title}`} className="w-full h-full grayscale group-hover:grayscale-0 transition-all duration-500"></iframe>
                                                    <div className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/50 to-transparent p-4 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">
                                                        <p className="text-white text-xs font-medium text-center">Vista previa interactiva</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </>
                    ) : viewMode === 'dining' ? (
                        /* DINING VIEW */
                        <div className="max-w-4xl mx-auto animate-fade-in">
                            <div className="bg-white/95 backdrop-blur-xl rounded-3xl overflow-hidden shadow-2xl text-gray-800 border border-white/50">
                                <div className="bg-gradient-to-r from-pink-600 to-rose-600 p-6 text-white">
                                    <h2 className="text-3xl font-black mb-1">{t.diningTitle}</h2>
                                    <p className="text-pink-100 font-medium">{t.diningSubtitle}</p>
                                </div>
                                <div className="p-6 grid gap-4">
                                    {t.restaurants.map((rest, idx) => (
                                        <div key={idx} className="bg-white border border-gray-200 rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow flex flex-col md:flex-row justify-between gap-4">
                                            <div>
                                                <div className="flex items-center gap-2 mb-1">
                                                    <h3 className="font-bold text-lg text-gray-900">{rest.name}</h3>
                                                    <span className="bg-green-100 text-green-800 text-xs px-2 py-0.5 rounded-full font-bold">{rest.price}</span>
                                                </div>
                                                <p className="text-sm text-indigo-600 font-medium mb-2">{rest.type} ‚Ä¢ {rest.dist}</p>
                                                <p className="text-sm text-gray-600">{rest.desc}</p>
                                            </div>
                                            <div className="flex flex-col justify-center min-w-[140px]">
                                                <div className="bg-gray-100 p-3 rounded-lg text-center">
                                                    <p className="text-xs text-gray-500 font-bold uppercase mb-1">Ubicaci√≥n</p>
                                                    <p className="text-sm font-bold text-gray-800">{rest.loc}</p>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    ) : viewMode === 'shopping' ? (
                        /* SHOPPING VIEW */
                        <div className="max-w-4xl mx-auto animate-fade-in">
                            <div className="bg-white/95 backdrop-blur-xl rounded-3xl overflow-hidden shadow-2xl text-gray-800 border border-white/50">
                                <div className="bg-gradient-to-r from-emerald-600 to-teal-600 p-6 text-white">
                                    <h2 className="text-3xl font-black mb-1">{t.shoppingTitle}</h2>
                                    <p className="text-emerald-100 font-medium">{t.shoppingSubtitle}</p>
                                </div>
                                <div className="p-6 grid gap-4">
                                    {t.shops.map((shop, idx) => (
                                        <div key={idx} className="bg-white border border-gray-200 rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow">
                                            <div className="flex flex-col gap-4">
                                                <div>
                                                    <div className="flex items-center gap-2 mb-1">
                                                        <h3 className="font-bold text-lg text-gray-900">{shop.name}</h3>
                                                        {shop.name.includes("ABC") && <span className="bg-red-100 text-red-800 text-xs px-2 py-0.5 rounded-full font-bold border border-red-200">Domingo</span>}
                                                        {shop.name.includes("Dollar Tree") && <span className="bg-green-100 text-green-800 text-xs px-2 py-0.5 rounded-full font-bold border border-green-200">$1.25</span>}
                                                    </div>
                                                    <span className="inline-block bg-indigo-100 text-indigo-800 text-xs px-2 py-1 rounded-md font-bold mb-2">{shop.category}</span>
                                                    <p className="text-sm text-gray-600 mt-2 mb-4">{shop.desc}</p>
                                                </div>
                                                
                                                {/* LOGISTICS TABLE */}
                                                {shop.logistics && (
                                                    <div className="bg-gray-50 rounded-lg overflow-hidden border border-gray-200">
                                                        <div className="grid grid-cols-2 md:grid-cols-3 divide-y md:divide-y-0 md:divide-x divide-gray-200">
                                                            {shop.logistics.map((item, i) => (
                                                                <div key={i} className="p-3 text-center">
                                                                    <span className="block text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1">{item.label}</span>
                                                                    <span className="block text-xs font-bold text-gray-800">{item.val}</span>
                                                                </div>
                                                            ))}
                                                        </div>
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    ) : (
                        /* HELP / FLASHCARDS VIEW */
                        <div className="max-w-4xl mx-auto animate-fade-in">
                            <div className="bg-white/95 backdrop-blur-xl rounded-3xl overflow-hidden shadow-2xl text-gray-800 border border-white/50">
                                <div className="bg-gradient-to-r from-orange-500 to-red-500 p-6 text-white">
                                    <h2 className="text-3xl font-black mb-1">{t.helpTitle}</h2>
                                    <p className="text-orange-100 font-medium">{t.helpSubtitle}</p>
                                </div>
                                <div className="p-6 grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    {t.flashcards.map((card, idx) => (
                                        <button 
                                            key={idx} 
                                            onClick={() => setActiveFlashCard(card)}
                                            className="bg-white border-2 border-gray-100 hover:border-orange-500 hover:bg-orange-50 p-6 rounded-2xl shadow-sm transition-all text-left group"
                                        >
                                            <span className="block text-gray-400 text-xs font-bold uppercase mb-2 tracking-wider">{card.label}</span>
                                            <span className="block text-xl font-bold text-gray-800 group-hover:text-orange-600">{card.es}</span>
                                        </button>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}

                    {/* ADDRESS HELP CARD */}
                    <div className="max-w-4xl mx-auto mt-8 bg-white border-2 border-indigo-200 rounded-2xl p-6 text-center shadow-xl">
                        <p className="text-gray-500 uppercase tracking-widest text-xs font-bold mb-2 flex items-center justify-center gap-2"><Icons.Home /> {t.helpCard.label}</p>
                        <h3 className="text-sm font-bold text-indigo-400 mb-1">{t.helpCard.title}</h3>
                        <h2 className="text-3xl md:text-4xl font-black text-indigo-900 mb-1 leading-tight">{t.helpCard.address}</h2>
                        <p className="text-xl text-indigo-800 font-bold mb-3">{t.helpCard.city}</p>
                        <div className="inline-block bg-indigo-100 text-indigo-700 px-4 py-1 rounded-full text-sm font-medium">{t.helpCard.note}</div>
                    </div>

                    {/* Uber, Budget & Apps */}
                    <div className="max-w-4xl mx-auto mt-8 grid md:grid-cols-2 gap-4">
                        <div onClick={() => window.open(uberLink, '_blank')} className="col-span-1 md:col-span-2 bg-gradient-to-r from-gray-900 to-black border border-white/20 p-5 rounded-2xl flex flex-col md:flex-row items-center justify-between gap-4 text-white shadow-xl hover:scale-[1.01] transition-transform cursor-pointer group">
                            <div className="flex items-center gap-4">
                                <div className="bg-white text-black p-3 rounded-full group-hover:bg-gray-200 transition-colors"><Icons.Car /></div>
                                <div><h4 className="font-bold text-lg">{t.uberSection.title}</h4><p className="text-sm text-gray-400">{t.uberSection.desc}</p></div>
                            </div>
                            <button className="bg-white text-black font-bold py-2 px-6 rounded-full hover:bg-gray-200 transition-colors text-sm w-full md:w-auto whitespace-nowrap">{t.uberSection.buttonText}</button>
                        </div>

                        <div className="bg-emerald-500/20 backdrop-blur-md border border-emerald-500/30 p-4 rounded-2xl flex items-center gap-4 text-white shadow-lg">
                            <div className="bg-emerald-500 p-3 rounded-full"><Icons.DollarSign /></div>
                            <div><p className="text-emerald-200 text-xs font-bold uppercase">{t.budget.title}</p><p className="text-2xl font-black">{t.budget.total}</p></div>
                        </div>

                        <div className="bg-indigo-600/30 backdrop-blur-md border border-indigo-400/30 p-4 rounded-2xl text-white shadow-lg flex flex-col justify-between">
                            <div className="flex items-center gap-3 mb-2"><div className="bg-indigo-500 p-2 rounded-full"><Icons.Smartphone /></div><h4 className="font-bold text-indigo-100">{t.appSection.title}</h4></div>
                            <p className="text-xs text-indigo-200 mb-3">{t.appSection.desc}</p>
                            <div className="space-y-1">{t.appSection.steps.map((step, idx) => <p key={idx} className="text-xs font-mono bg-black/20 p-1 rounded px-2">{step}</p>)}</div>
                        </div>
                    </div>
                    
                    <footer className="mt-8 text-center text-xs text-gray-400">Generado para Kiwiglowcr | Diciembre 2025</footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
